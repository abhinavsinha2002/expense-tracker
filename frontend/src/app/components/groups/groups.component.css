/* =========================================================
   1. LAYOUT
   ========================================================= */
.groups-container {
  /* Added padding-left and padding-right */
  padding: 20px 40px; 
  display: flex;
  flex-direction: column;
  color: var(--text-main);
  gap: 30px;
  width: 100%; /* Ensure it takes full width available */
  box-sizing: border-box; /* Includes padding in width calculation */
}

.header-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 10px;
}

.title {
  font-family: 'Playfair Display', serif; /* Elegant Serif */
  font-size: 2.2rem;
  color: var(--text-main);
  margin: 0;
  letter-spacing: 1px;
}

/* =========================================================
   2. THE PREMIUM CARD (Large & Cinematic)
   ========================================================= */
.groups-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
  gap: 30px;
}

.group-card {
  height: 250px; /* Large container */
  border-radius: 24px;
  position: relative;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  border: 1px solid var(--border-color); /* FIX */
  box-shadow: var(--card-shadow); /* FIX */
  background: var(--bg-card);
}

.group-card:hover {
  transform: translateY(-8px) scale(1.02);
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
  border-color: var(--gold-accent);/* Gold border on hover */
}

/* BACKGROUND IMAGE LAYER */
.card-bg {
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%;
  background-size: cover;
  background-position: center;
  transition: transform 0.8s ease;
  z-index: 0;
}

.group-card:hover .card-bg {
  transform: scale(1.1); /* Slow zoom effect */
  border-color: var(--gold-accent);
}

/* DARK GRADIENT OVERLAY (For text readability) */
.card-overlay {
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%;
  background: var(--bg-overlay);
  z-index: 1;
}

/* CONTENT LAYER */
.card-content {
  position: relative;
  z-index: 2;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  padding: 25px;
}

.group-name {
  font-size: 1.8rem;
  font-weight: 700;
  color: var(--text-main);
  margin: 0 0 5px 0;
  text-shadow: 0 2px 10px rgba(0,0,0,0.5);
}

.group-desc {
  color: var(--text-muted);
  font-size: 0.95rem;
  margin-bottom: 20px;
  display: -webkit-box;
  -webkit-line-clamp: 2; /* Limit to 2 lines */
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* FOOTER (Avatars & Badge) */
.card-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-top: 1px solid var(--border-color);
  padding-top: 15px;
}

.currency-badge {
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(5px);
  padding: 5px 12px;
  border-radius: 20px;
  font-size: 0.8rem;
  color: #dcb14a; /* Gold text */
  font-weight: 600;
  border: 1px solid rgba(220, 177, 74, 0.3);
}

/* MEMBER AVATARS (Overlapping) */
.avatars {
  display: flex;
  padding-left: 10px; /* Space for overlap */
}

.avatar-circle {
  width: 35px;
  height: 35px;
  border-radius: 50%;
  color: #fff;
  font-size: 0.8rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 2px solid rgba(255, 255, 255, 0.8);
  margin-left: -12px; /* Overlap amount */
  box-shadow: 0 2px 5px rgba(0,0,0,0.3);
  background: #333; /* Fallback */
}

/* =========================================================
   3. BUTTONS & MODAL (Glass)
   ========================================================= */
.create-btn {
  background: linear-gradient(135deg, #dcb14a 0%, #f4d03f 100%);
  color: #000;
  border: none;
  padding: 10px 24px;
  border-radius: 50px;
  font-weight: 600;
  box-shadow: 0 4px 15px rgba(220, 177, 74, 0.3);
  transition: all 0.3s;
}

.create-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(220, 177, 74, 0.5);
}

.modal-overlay {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0, 0, 0, 0.8);
  z-index: 1000;
  display: flex; justify-content: center; align-items: center;
  backdrop-filter: blur(8px);
}

.modal-card {
  background: var(--bg-card); /* Dark Slate */
  border: 1px solid var(--border-color);
  padding: 40px; /* Increased padding for breathing room */
  border-radius: 24px;
  width: 90%; 
  max-width: 550px; /* INCREASED WIDTH */
  box-shadow: var(--card-shadow);
  color: var(--text-main);
  backdrop-filter: blur(20px);
}

/* NEW HEADER ROW & CLOSE BUTTON */
.modal-header-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.modal-card h3 {
  margin: 0;
  color: #dcb14a;
  font-family: 'Playfair Display', serif;
  font-size: 2rem; /* Larger Title */
}

.close-icon-btn {
  background: transparent;
  border: none;
  color: #aaaaaa;
  cursor: pointer;
  padding: 8px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
}

.close-icon-btn:hover {
  background: rgba(255,255,255,0.1);
  color: #ffffff;
  transform: rotate(90deg); /* Nice little effect */
}

/* LARGER INPUTS */
.form-control-lg {
  background: var(--input-bg);
  border: 1px solid var(--border-color);
  color: var(--text-main);
  padding: 16px 20px; /* Bigger padding */
  border-radius: 12px; /* Smoother radius */
  font-size: 1.1rem;
  width: 100%;
  box-sizing: border-box;
}

.form-control-lg:focus {
  background: rgba(255, 255, 255, 0.1);
  border-color: #dcb14a;
  outline: none;
  box-shadow: 0 0 0 4px rgba(220, 177, 74, 0.1);
}

/* Custom select styling to match the theme */
.custom-select {
  appearance: none;
  background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23aaaaaa%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E");
  background-repeat: no-repeat;
  background-position: right 1rem top 50%;
  background-size: 0.8rem auto;
}

/* Option tags inside select cannot be styled easily with CSS, 
   but they will inherit the OS dark mode if the user's OS is dark. 
   Otherwise, they default to standard browser styling */
.custom-select option {
  background-color: #1e1e20;
  color: #ffffff;
}
/* Loading & Empty States */
.loading-state { color: #aaa; text-align: center; margin-top: 50px; }
.empty-state { text-align: center; margin-top: 60px; color: rgba(255,255,255,0.3); }

/* Animation */
.fade-in { animation: fadeIn 0.5s ease-out; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

/* Responsive */
@media (max-width: 768px) {
  .groups-grid { grid-template-columns: 1fr; }
  .group-card { height: 200px; }
}
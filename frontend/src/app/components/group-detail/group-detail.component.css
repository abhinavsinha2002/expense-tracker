@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Poppins:wght@300;400;500;600;700&display=swap');

/* =========================================================
   1. LAYOUT & VARIABLES (Matched to Groups)
   ========================================================= */
:host {
  --bg-card: rgba(30, 30, 32, 0.7);
  --bg-overlay: linear-gradient(180deg, rgba(0,0,0,0.2) 0%, rgba(0,0,0,0.9) 100%);
  --border-color: rgba(255, 255, 255, 0.1);
  --gold-accent: #dcb14a;
  --text-main: #ffffff;
  --text-muted: #aaaaaa;
  --card-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
  display: block;
  height: 100%;
}

.detail-container { 
  height: 100%; 
  display: flex; 
  flex-direction: column; 
  overflow: hidden; 
  background: #121212; 
  font-family: 'Poppins', sans-serif;
}

/* =========================================================
   2. HERO HEADER (Cinematic)
   ========================================================= */
.hero-header {
  position: relative;
  height: 280px; /* Slightly taller for impact */
  background-size: cover;
  background-position: center;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  padding: 20px 40px; /* Matched padding */
  border-bottom: 1px solid var(--border-color);
}

.overlay {
  position: absolute; top: 0; left: 0; right: 0; bottom: 0;
  background: var(--bg-overlay);
  z-index: 1;
}

/* TOP NAV */
.top-nav {
  position: relative;
  z-index: 3;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.glass-btn {
  background: rgba(255,255,255,0.1);
  color: #fff;
  backdrop-filter: blur(10px);
  border: 1px solid var(--border-color);
  transition: all 0.3s;
}
.glass-btn:hover { background: rgba(255,255,255,0.2); transform: translateX(-3px); }

/* Create/Add Button */
.add-btn {
  background: linear-gradient(135deg, #dcb14a 0%, #f4d03f 100%) !important;
  color: #000 !important;
  border: none;
  padding: 0 24px;
  border-radius: 50px;
  font-weight: 600;
  box-shadow: 0 4px 15px rgba(220, 177, 74, 0.3);
  transition: all 0.3s;
}
.add-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(220, 177, 74, 0.5); }

/* Hero Content */
.hero-content { position: relative; z-index: 2; color: var(--text-main); margin-bottom: 15px; }
.hero-content h1 { 
  margin: 0; 
  font-family: 'Playfair Display', serif; /* Elegant Serif */
  font-size: 3rem; 
  text-shadow: 0 2px 10px rgba(0,0,0,0.8); 
  letter-spacing: 1px;
}
.hero-content p { color: #ccc; font-size: 1rem; margin: 5px 0 15px 0; }

.badges { display: flex; gap: 12px; }
.badge { 
  background: rgba(255, 255, 255, 0.15); 
  backdrop-filter: blur(5px); 
  padding: 6px 14px; 
  border-radius: 20px; 
  font-size: 0.85rem; 
  color: var(--gold-accent); 
  font-weight: 600; 
  border: 1px solid rgba(220, 177, 74, 0.3); 
}

/* =========================================================
   3. CONTENT & TABS
   ========================================================= */
.content-wrapper { 
  flex: 1; 
  overflow-y: auto; 
  padding: 30px 40px; 
}

/* Override Angular Material Tabs for Glass look */
::ng-deep .glass-tabs .mat-mdc-tab-header { 
  background: transparent; 
  border-bottom: 1px solid var(--border-color); 
}

/* Target the exact text label inside the tab */
::ng-deep .glass-tabs .mat-mdc-tab .mdc-tab__text-label { 
  color: var(--text-muted) !important; 
  font-family: 'Poppins', sans-serif; 
  letter-spacing: 0.5px; 
  font-weight: 500;
  font-size: 1rem;
  transition: color 0.3s ease;
}

/* Hover effect for inactive tabs */
::ng-deep .glass-tabs .mat-mdc-tab:hover .mdc-tab__text-label {
  color: #ffffff !important;
}

/* ACTIVE Tab Text Color */
::ng-deep .glass-tabs .mat-mdc-tab.mdc-tab--active .mdc-tab__text-label { 
  color: var(--gold-accent) !important; 
}

/* ACTIVE Tab Underline Color */
::ng-deep .glass-tabs .mdc-tab-indicator__content--underline { 
  border-color: var(--gold-accent) !important; 
}

.tab-content { padding-top: 25px; }
/* =========================================================
   4. GLASS CARDS (Expenses & Settlements)
   ========================================================= */
.glass-card {
  background: var(--bg-card);
  backdrop-filter: blur(20px);
  border: 1px solid var(--border-color);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 20px;
  display: flex;
  align-items: center;
  color: var(--text-main);
  box-shadow: 0 8px 20px rgba(0,0,0,0.3);
  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.glass-card.clickable { cursor: pointer; }
.glass-card.clickable:hover { 
  transform: translateY(-5px) scale(1.01); 
  border-color: var(--gold-accent);
  box-shadow: 0 15px 30px rgba(0,0,0,0.5);
}

/* EXPENSE ITEM */
.expense-item { gap: 20px; }
.date-box { 
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  background: rgba(255,255,255,0.05); 
  border: 1px solid var(--border-color);
  padding: 10px; border-radius: 12px; 
  min-width: 65px; 
}
.date-box .day { font-size: 1.4rem; font-weight: 700; line-height: 1; color: var(--text-main); }
.date-box .month { font-size: 0.7rem; text-transform: uppercase; margin-top: 4px; color: var(--gold-accent); letter-spacing: 1px; }

.exp-info { flex: 1; }
.exp-info h4 { margin: 0; font-size: 1.1rem; font-weight: 500; letter-spacing: 0.5px; }
.exp-info p { margin: 5px 0 0; font-size: 0.85rem; color: var(--text-muted); }
.exp-info strong { color: #eee; }

.exp-amount { font-size: 1.3rem; font-weight: 600; color: var(--gold-accent); font-family: 'Playfair Display', serif; }

/* SETTLEMENT CARD */
.settle-card { justify-content: space-between; padding: 25px 30px; }
.arrow { display: flex; flex-direction: column; align-items: center; color: var(--text-muted); font-size: 0.85rem; flex: 1; }
.arrow .amount { color: #ef4444; font-weight: 700; font-size: 1.2rem; margin-top: 5px; font-family: 'Playfair Display', serif; }
.arrow mat-icon { margin: 5px 0; opacity: 0.5; }
.user { font-weight: 600; font-size: 1.1rem; max-width: 30%; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.user.from { text-align: left; }
.user.to { text-align: right; color: var(--gold-accent); }

/* =========================================================
   5. EMPTY STATES & LOADERS
   ========================================================= */
.empty-state { 
  text-align: center; color: var(--text-muted); margin-top: 60px; 
  display: flex; flex-direction: column; align-items: center; gap: 15px;
}
.empty-state mat-icon { font-size: 56px; width: 56px; height: 56px; opacity: 0.3; color: var(--gold-accent); }
.empty-state button { margin-top: 10px; border-color: var(--border-color); color: var(--gold-accent); }

.fade-in { animation: fadeIn 0.5s ease-out; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

/* =========================================================
   6. FORCE DARK GLASS MODAL
   ========================================================= */
::ng-deep .glass-modal .mat-mdc-dialog-container .mdc-dialog__surface {
  background-color: rgba(28, 28, 30, 0.95) !important;
  background: linear-gradient(135deg, rgba(40, 40, 45, 0.95), rgba(20, 20, 25, 0.98)) !important;
  color: #ffffff !important;
  backdrop-filter: blur(20px);
  border: 1px solid var(--border-color);
  border-radius: 20px !important;
  box-shadow: var(--card-shadow) !important;
}
::ng-deep .glass-modal .mat-mdc-icon-button { color: #ffffff !important; }

/* ... Keep all existing CSS at the top ... */

/* =========================================================
   NEW MODAL STYLES (Copied from Groups Component)
   ========================================================= */

/* The Dark Blur Overlay */
.modal-overlay {
  position: fixed; 
  top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0, 0, 0, 0.8);
  z-index: 1000;
  display: flex; justify-content: center; align-items: center;
  backdrop-filter: blur(8px);
}

/* The Glass Card */
.modal-card {
  background: var(--bg-card, rgba(30, 30, 32, 0.8)); /* Dark Slate */
  border: 1px solid var(--border-color, rgba(255, 255, 255, 0.1));
  padding: 30px;
  border-radius: 20px;
  width: 90%; max-width: 450px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
  color: #fff;
  backdrop-filter: blur(20px);
}

.modal-card h3 {
  margin-top: 0;
  color: #dcb14a;
  font-family: 'Playfair Display', serif;
}

/* Modal Inner Content Styling */
.modal-body-custom { margin-top: 10px; }

.exp-desc-large { text-align: center; margin: 0; font-size: 1.6rem; font-weight: 600; color: #ffffff; letter-spacing: 0.5px; }
.exp-date-sub { text-align: center; color: #aaa; font-size: 0.9rem; margin-top: 5px; }

.divider-line { height: 1px; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent); margin: 25px 0; }

.info-row { display: flex; align-items: center; gap: 15px; margin-bottom: 20px; }
.info-row .icon-circle { 
  color: #dcb14a; 
  background: rgba(220, 177, 74, 0.1); 
  padding: 8px; border-radius: 50%; width: 40px; height: 40px; 
  display: flex; align-items: center; justify-content: center;
}

.info-text { display: flex; flex-direction: column; }
.info-text .label { font-size: 0.75rem; color: #888; text-transform: uppercase; letter-spacing: 1px; }
.info-text .value { font-size: 1.1rem; color: #fff; font-weight: 500; }
.info-text .gold-text { font-family: 'Playfair Display', serif; font-size: 1.4rem; color: #dcb14a; font-weight: 700; line-height: 1.2; }

/* Splits Section */
.splits-title { color: #ccc; margin-bottom: 15px; font-weight: 400; text-transform: uppercase; font-size: 0.85rem; letter-spacing: 1px; }

.splits-container { display: flex; flex-direction: column; gap: 10px; max-height: 200px; overflow-y: auto; padding-right: 5px; }
.split-row { display: flex; justify-content: space-between; align-items: center; background: rgba(255,255,255,0.05); padding: 12px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.05); }

.split-user { display: flex; align-items: center; gap: 12px; color: #eee; font-weight: 500; }
.avatar-mini { 
  width: 32px; height: 32px; 
  background: #333; 
  border: 1px solid rgba(220, 177, 74, 0.5);
  border-radius: 50%; 
  display: flex; align-items: center; justify-content: center; 
  font-size: 0.8rem; color: #dcb14a; font-weight: bold; 
}
.split-val { font-weight: 600; color: #ef4444; font-size: 1rem; }

/* Custom Scrollbar */
.splits-container::-webkit-scrollbar { width: 4px; }
.splits-container::-webkit-scrollbar-track { background: rgba(255,255,255,0.02); }
.splits-container::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 4px; }

/* Buttons inside Modal */
.create-btn {
  background: linear-gradient(135deg, #dcb14a 0%, #f4d03f 100%);
  color: #000;
  border: none;
  padding: 10px 24px;
  border-radius: 50px;
  font-weight: 600;
  box-shadow: 0 4px 15px rgba(220, 177, 74, 0.3);
  transition: all 0.3s;
  display: flex;
  align-items: center;
  justify-content: center;
}
.create-btn:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(220, 177, 74, 0.5); }
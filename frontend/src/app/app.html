<div class="dashboard-container" [class.dark-mode]="isDark">
  
  <aside class="sidebar">
    
    <div class="profile-section">
      <ng-container *ngIf="auth.isLoggedIn()">
        <div class="avatar-circle">
          <img src="https://i.pravatar.cc/150?img=11" alt="User">
        </div>
        <div class="profile-info">
          <h3>{{ auth.currentUser?.name || 'Abhinav Kumar Sinha' }}</h3>
          <p>Admin</p>
        </div>
      </ng-container>

      <ng-container *ngIf="!auth.isLoggedIn()">
        <div class="avatar-circle guest-avatar">
          <mat-icon>person</mat-icon>
        </div>
        <div class="profile-info">
          <h3>Guest User</h3>
          <p>Welcome</p>
        </div>
      </ng-container>
    </div>

    <nav class="nav-menu">
      <p class="menu-label">MAIN MENU</p>
      
      <a routerLink="/" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact: true}" class="nav-item">
        <mat-icon class="nav-icon">dashboard</mat-icon>
        <span>Dashboard</span>
      </a>

      <a routerLink="/expenses" routerLinkActive="active-link" class="nav-item">
        <mat-icon class="nav-icon">account_balance_wallet</mat-icon>
        <span>Expenses</span>
      </a>

      <a routerLink="/groups" routerLinkActive="active-link" class="nav-item">
        <mat-icon class="nav-icon">groups</mat-icon>
        <span>Groups</span>
      </a>

      <a routerLink="/chat" routerLinkActive="active-link" class="nav-item">
        <mat-icon class="nav-icon">chat</mat-icon>
        <span>Chat Room</span>
      </a>
    </nav>

    <div class="sidebar-footer">
      <p class="menu-label">PREFERENCES</p>
      
      <a routerLink="/settings" routerLinkActive="active-link" class="nav-item">
        <mat-icon class="nav-icon">settings</mat-icon>
        <span>Settings</span>
      </a>
      
      <button *ngIf="auth.isLoggedIn()" (click)="logout()" class="nav-item logout">
        <mat-icon class="nav-icon">logout</mat-icon>
        <span>Logout</span>
      </button>

      <ng-container *ngIf="!auth.isLoggedIn()">
        
        <a routerLink="/login" class="nav-item">
          <mat-icon class="nav-icon">login</mat-icon>
          <span>Login</span>
        </a>

        <a routerLink="/register" class="nav-item">
          <mat-icon class="nav-icon">person_add</mat-icon> <span>Register</span>
        </a>

      </ng-container>
    </div>
  </aside>

  <main class="main-content">
    
    <header class="content-header">
      <div class="header-text">
        <h1>Overview</h1>
        <p class="date">{{ today | date:'fullDate' }}</p>
      </div>

      <div class="action-group">
        <button class="notification-btn">
          <mat-icon>notifications</mat-icon>
          <span class="notification-badge"></span> </button>
      
      <button class="theme-icon-btn" (click)="toggleTheme()">
        <mat-icon>{{ isDark ? 'light_mode' : 'dark_mode' }}</mat-icon>
      </button>
      </div>
    </header>

    <div class="content-scrollable">
      <div class="fade-in-up">
        <router-outlet></router-outlet>
      </div>
    </div>
  </main>

</div>